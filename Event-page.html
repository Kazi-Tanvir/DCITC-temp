<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Events Bento Box</title>
  <style>
    :root {
      --primary-color: #00b4db;
      --secondary-color: #0083b0;
      --body-background: #0c0c14;
      --navbar-background: rgba(26, 26, 26, 0.9);
      --text-color: #fff;
      --secondary-text-color: #aaa;
      --button-background: #00b4db;
      --button-hover: #0083b0;
      --primary-rgb: 0, 180, 219;
      --card-background: #1a1a1a;
      --card-alt-background: #2a2a3a;
      --screen-background: #1a1a1a;
      --header-background: #111;
      --form-border: #666;
      --form-text: #ddd;
      --placeholder-color: #666;
      --credits-text: #aaa;
      --credits-link: #00b4db;
    }

    * {
      box-sizing: border-box;
      transition: all 0.3s ease;
    }

    body {
      background-color: var(--body-background);
      color: var(--text-color);
      font-family: 'Inter', 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 20px;
      overflow-x: hidden;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 15px;
    }

    .section-title {
      font-size: 2rem;
      font-weight: 700;
      position: relative;
      display: inline-block;
      margin: 0;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 4px;
      background: var(--primary-color);
      border-radius: 2px;
    }

    .sorting-options {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .filter-wrapper {
      position: relative;
      margin-bottom: 20px;
      display: none;
    }

    .filter-toggle {
      background-color: var(--primary-color);
      color: var(--body-background);
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      width: 100%;
      text-align: left;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .filter-toggle::after {
      content: '↓';
      font-size: 18px;
    }

    .sort-btn {
      background-color: transparent;
      border: 1px solid var(--card-alt-background);
      color: var(--text-color);
      padding: 8px 16px;
      border-radius: 30px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .sort-btn:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
      transform: translateY(-3px);
    }

    .sort-btn.active {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
      color: var(--body-background);
    }

    .standalone-event {
      background-color: var(--card-background);
      border-radius: 12px;
      margin-bottom: 20px;
      overflow: hidden;
      position: relative;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      transition: all 0.3s ease;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.5s forwards;
    }

    .standalone-event:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.15);
    }

    .standalone-event::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--primary-color);
      border-radius: 4px 0 0 4px;
    }

    .standalone-content {
      display: flex;
      flex-wrap: wrap;
      padding: 25px;
    }

    .standalone-image {
      flex: 0 0 300px;
      background-size: cover;
      background-position: center;
      border-radius: 8px;
      margin-right: 25px;
      position: relative;
      min-height: 200px;
      transition: transform 0.5s ease;
    }

    .standalone-image:hover {
      transform: scale(1.03);
    }

    .standalone-details {
      flex: 1;
      min-width: 250px;
    }

    .standalone-date {
      display: inline-block;
      background: var(--card-alt-background);
      padding: 8px 15px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      width: fit-content;
    }

    .standalone-date svg {
      margin-right: 8px;
    }

    .standalone-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin: 0 0 10px 0;
    }

    .standalone-subtitle {
      font-size: 1.1rem;
      color: var(--secondary-text-color);
      margin-bottom: 20px;
    }

    .standalone-description {
      color: var(--secondary-text-color);
      margin-bottom: 20px;
      line-height: 1.6;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease;
    }

    .standalone-description.expanded {
      max-height: 400px;
    }

    .read-more {
      color: var(--primary-color);
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 20px;
      display: inline-block;
      background: none;
      border: none;
      padding: 0;
      font-size: 0.9rem;
    }

    .standalone-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 15px;
    }

    .standalone-type {
      background-color: rgba(var(--primary-rgb), 0.1);
      color: var(--primary-color);
      padding: 5px 12px;
      border-radius: 4px;
      font-size: 0.9rem;
      font-weight: 500;
    }

    .standalone-button {
      background: var(--primary-color);
      border: none;
      color: var(--body-background);
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
    }

    .standalone-button:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(var(--primary-rgb), 0.3);
    }

    .standalone-button svg {
      margin-left: 8px;
    }

    .events-container {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      grid-template-rows: repeat(6, 100px);
      gap: 15px;
      max-width: 1200px;
      margin: 30px auto;
    }

    .event-card {
      background-color: var(--card-background);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      opacity: 0;
      animation: fadeIn 0.5s forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .event-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(var(--primary-rgb), 0.15);
    }

    .event-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--primary-color);
      border-radius: 4px 0 0 4px;
    }

    .event-card.featured::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 50px 50px 0;
      border-color: transparent var(--primary-color) transparent transparent;
    }

    .event-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 10px;
    }

    .date-badge {
      background: var(--card-alt-background);
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
    }

    .date-badge svg {
      margin-right: 5px;
    }

    .event-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin: 0 0 5px 0;
    }

    .event-subtitle {
      color: var(--secondary-text-color);
      font-size: 0.9rem;
      margin: 0;
    }

    .event-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }

    .event-type {
      background-color: rgba(var(--primary-rgb), 0.1);
      color: var(--primary-color);
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 500;
    }

    .event-button {
      background: transparent;
      border: 1px solid var(--primary-color);
      color: var(--primary-color);
      padding: 5px 12px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
    }

    .event-button:hover {
      background: var(--primary-color);
      color: var(--card-background);
      transform: translateY(-2px);
    }

    .event-button svg {
      margin-left: 5px;
    }

    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .popup-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .popup-content {
      background-color: var(--card-background);
      max-width: 600px;
      width: 90%;
      border-radius: 12px;
      padding: 25px;
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .popup-overlay.active .popup-content {
      transform: scale(1);
    }

    .popup-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: transparent;
      border: none;
      color: var(--text-color);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .popup-title {
      font-size: 1.8rem;
      margin-bottom: 15px;
    }

    .popup-date {
      color: var(--primary-color);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .popup-description {
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .popup-button {
      background: var(--primary-color);
      border: none;
      color: var(--body-background);
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-block;
    }

    /* Define specific grid placements */
    .event-1 {
      grid-column: 1 / 7;
      grid-row: 1 / 3;
      background-image: linear-gradient(45deg, rgba(26, 26, 26, 0.9), rgba(26, 26, 26, 0.7)), url('/api/placeholder/400/320');
      background-size: cover;
      background-position: center;
      animation-delay: 0.1s;
    }

    .event-2 {
      grid-column: 7 / 10;
      grid-row: 1 / 4;
      animation-delay: 0.2s;
    }

    .event-3 {
      grid-column: 10 / 13;
      grid-row: 1 / 3;
      animation-delay: 0.3s;
    }

    .event-4 {
      grid-column: 1 / 4;
      grid-row: 3 / 5;
      animation-delay: 0.4s;
    }

    .event-5 {
      grid-column: 4 / 7;
      grid-row: 3 / 5;
      animation-delay: 0.5s;
    }

    .event-6 {
      grid-column: 7 / 13;
      grid-row: 4 / 6;
      background-image: linear-gradient(45deg, rgba(26, 26, 26, 0.9), rgba(26, 26, 26, 0.7)), url('/api/placeholder/400/320');
      background-size: cover;
      background-position: center;
      animation-delay: 0.6s;
    }

    .event-7 {
      grid-column: 1 / 7;
      grid-row: 5 / 7;
      animation-delay: 0.7s;
    }

    .event-8 {
      grid-column: 7 / 10;
      grid-row: 6 / 7;
      animation-delay: 0.8s;
    }

    .event-9 {
      grid-column: 10 / 13;
      grid-row: 6 / 7;
      animation-delay: 0.9s;
    }

    .event-10 {
      grid-column: 10 / 13;
      grid-row: 3 / 4;
      animation-delay: 1s;
    }

    .event-11 {
      grid-column: 1 / 13;
      grid-row: 7 / 8;
      animation-delay: 1.1s;
    }

    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary-color);
      color: var(--body-background);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 100;
      border: none;
    }

    .back-to-top.visible {
      opacity: 1;
    }

    .search-container {
      margin-bottom: 20px;
      position: relative;
      max-width: 400px;
      width: 100%;
    }

    .search-input {
      width: 100%;
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid var(--card-alt-background);
      background: var(--card-background);
      color: var(--text-color);
      font-size: 1rem;
      transition: all 0.2s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);
    }

    .search-input::placeholder {
      color: var(--secondary-text-color);
      font-size: 0.9rem;
    }

    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--secondary-text-color);
    }

    .skeleton {
      position: relative;
      overflow: hidden;
    }

    .skeleton::after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      transform: translateX(-100%);
      background-image: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0) 0,
        rgba(255, 255, 255, 0.05) 20%,
        rgba(255, 255, 255, 0.1) 60%,
        rgba(255, 255, 255, 0)
      );
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      100% {
        transform: translateX(100%);
      }
    }

    .no-results {
      text-align: center;
      padding: 40px;
      font-size: 1.2rem;
      color: var(--secondary-text-color);
      display: none;
      width: 100%;
      margin: 20px 0;
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
      .standalone-image {
        flex: 0 0 250px;
      }
      
      .events-container {
        grid-template-columns: repeat(6, 1fr);
        grid-template-rows: auto;
      }
      
      .event-1 {
        grid-column: 1 / 7;
        grid-row: auto;
      }
      
      .event-2 {
        grid-column: 1 / 4;
        grid-row: auto;
      }
      
      .event-3 {
        grid-column: 4 / 7;
        grid-row: auto;
      }
      
      .event-4 {
        grid-column: 1 / 4;
        grid-row: auto;
      }
      
      .event-5 {
        grid-column: 4 / 7;
        grid-row: auto;
      }
      
      .event-6 {
        grid-column: 1 / 7;
        grid-row: auto;
      }
      
      .event-7 {
        grid-column: 1 / 7;
        grid-row: auto;
      }
      
      .event-8 {
        grid-column: 1 / 4;
        grid-row: auto;
      }
      
      .event-9 {
        grid-column: 4 / 7;
        grid-row: auto;
      }
      
      .event-10 {
        grid-column: 1 / 4;
        grid-row: auto;
      }
      
      .event-11 {
        grid-column: 4 / 7;
        grid-row: auto;
      }
      
      .event-card {
        min-height: 180px;
      }
    }

    @media (max-width: 768px) {
      .section-header {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .sorting-options {
        display: none;
        width: 100%;
        flex-direction: column;
        padding: 10px;
        background: var(--card-background);
        border-radius: 5px;
        margin-top: 10px;
      }
      
      .sorting-options.open {
        display: flex;
      }
      
      .filter-wrapper {
        display: block;
        width: 100%;
      }
      
      .sort-btn {
        width: 100%;
        text-align: left;
        padding: 10px;
        border-radius: 5px;
      }
      
      .standalone-image {
        flex: 0 0 100%;
        height: 200px;
        margin-right: 0;
        margin-bottom: 20px;
      }
      
      .events-container {
        grid-template-columns: 1fr;
      }

      .event-card {
        grid-column: 1 / -1 !important;
        grid-row: auto !important;
        min-height: 150px;
      }
      
      .search-container {
        max-width: none;
      }
    }

    /* Animation for cards */
    @keyframes fadeInStagger {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>
  
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Upcoming Events</h2>
      
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Search events..." id="searchInput">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>
      
      <div class="filter-wrapper">
        <button class="filter-toggle">Filter Events</button>
      </div>
      
      <div class="sorting-options">
        <button class="sort-btn active" data-filter="All">All</button>
        <button class="sort-btn" data-filter="Fest">Fest</button>
        <button class="sort-btn" data-filter="Publication">Publication</button>
        <button class="sort-btn" data-filter="Workshop">Workshop</button>
        <button class="sort-btn" data-filter="Projects">Projects</button>
      </div>
    </div>
    
    <!-- First Standalone Event -->
    <div class="standalone-event" data-type="Fest">
      <div class="standalone-content">
        <div class="standalone-image skeleton" style="background-image: url('/api/placeholder/400/320')"></div>
        <div class="standalone-details">
          <div class="standalone-date">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            May 22-24, 2025
          </div>
          <h3 class="standalone-title">TechFest 2025: Future of Innovation</h3>
          <p class="standalone-subtitle">Global Technology Summit & Exhibition</p>
          <p class="standalone-description">
            Join us for the most anticipated tech event of the year! TechFest 2025 brings together industry leaders, innovators, and tech enthusiasts for three days of presentations, workshops, and networking opportunities. Explore cutting-edge technologies and be part of shaping the future of tech.
          </p>
          <button class="read-more">Read more</button>
          <div class="standalone-footer">
            <span class="standalone-type">Fest</span>
            <button class="standalone-button" data-event="TechFest 2025: Future of Innovation">
              Register Now
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Second Standalone Event -->
    <div class="standalone-event" data-type="Publication">
      <div class="standalone-content">
        <div class="standalone-image skeleton" style="background-image: url('/api/placeholder/400/320')"></div>
        <div class="standalone-details">
          <div class="standalone-date">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            June 5, 2025
          </div>
          <h3 class="standalone-title">Tech Journal: Special Edition Launch</h3>
          <p class="standalone-subtitle">Digital Transformation & AI Research</p>
          <p class="standalone-description">
            We're excited to announce the release of our special edition publication focused on digital transformation and artificial intelligence. Join us for the virtual launch event featuring expert panels, research presentations, and exclusive insights from contributing authors and industry experts.
          </p>
          <button class="read-more">Read more</button>
          <div class="standalone-footer">
            <span class="standalone-type">Publication</span>
            <button class="standalone-button" data-event="Tech Journal: Special Edition Launch">
              Join Launch Event
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- No Results Message -->
    <div class="no-results">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        <line x1="8" y1="11" x2="14" y2="11"></line>
      </svg>
      <p>No events found matching your search.</p>
    </div>
    
    <!-- Bento Box Grid -->
    <div class="events-container">
      <!-- Event 1: Featured Event -->
      <div class="event-card event-1 featured" data-type="Fest">
        <div class="event-header">
          <div class="date-badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            June 15, 2025
          </div>
        </div>
        <div>
            <h3 class="event-title">Annual Tech Summit 2025</h3>
            <p class="event-subtitle">Innovation & Digital Transformation</p>
            </div>
            <div class="event-footer">
              <span class="event-type">Fest</span>
              <button class="event-button" data-event="Annual Tech Summit 2025">
                Details
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                  <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
              </button>
            </div>
            </div>
            
            <!-- Event 2 -->
            <div class="event-card event-2" data-type="Workshop">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  July 8, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">AI Workshop Series</h3>
                <p class="event-subtitle">Machine Learning Fundamentals</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Workshop</span>
                <button class="event-button" data-event="AI Workshop Series">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 3 -->
            <div class="event-card event-3" data-type="Projects">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  May 28, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Project Showcase</h3>
                <p class="event-subtitle">Student Innovations</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Projects</span>
                <button class="event-button" data-event="Project Showcase">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 4 -->
            <div class="event-card event-4" data-type="Publication">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  August 15, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Tech Journal Vol.2</h3>
                <p class="event-subtitle">Call for Papers</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Publication</span>
                <button class="event-button" data-event="Tech Journal Vol.2">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 5 -->
            <div class="event-card event-5" data-type="Workshop">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  July 22, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Web Dev Bootcamp</h3>
                <p class="event-subtitle">Frontend Technologies</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Workshop</span>
                <button class="event-button" data-event="Web Dev Bootcamp">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 6 -->
            <div class="event-card event-6 featured" data-type="Fest">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  September 5, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">GameDev Conference</h3>
                <p class="event-subtitle">Future of Interactive Entertainment</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Fest</span>
                <button class="event-button" data-event="GameDev Conference">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 7 -->
            <div class="event-card event-7" data-type="Projects">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  October 12, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Hackathon 2025</h3>
                <p class="event-subtitle">48hr Coding Challenge</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Projects</span>
                <button class="event-button" data-event="Hackathon 2025">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 8 -->
            <div class="event-card event-8" data-type="Workshop">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  November 3, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">UX/UI Workshop</h3>
                <p class="event-subtitle">Design Systems</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Workshop</span>
                <button class="event-button" data-event="UX/UI Workshop">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 9 -->
            <div class="event-card event-9" data-type="Publication">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  December 15, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Research Symposium</h3>
                <p class="event-subtitle">Innovation Showcase</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Publication</span>
                <button class="event-button" data-event="Research Symposium">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 10 -->
            <div class="event-card event-10" data-type="Projects">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  July 16, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Startup Pitch Day</h3>
                <p class="event-subtitle">New Ventures</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Projects</span>
                <button class="event-button" data-event="Startup Pitch Day">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            
            <!-- Event 11 -->
            <div class="event-card event-11" data-type="Fest">
              <div class="event-header">
                <div class="date-badge">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  August 25, 2025
                </div>
              </div>
              <div>
                <h3 class="event-title">Digital Marketing Summit</h3>
                <p class="event-subtitle">Growth Strategies for 2026</p>
              </div>
              <div class="event-footer">
                <span class="event-type">Fest</span>
                <button class="event-button" data-event="Digital Marketing Summit">
                  Details
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </button>
              </div>
            </div>
            </div>
            
            <!-- Back to Top Button -->
            <button class="back-to-top">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="19" x2="12" y2="5"></line>
                <polyline points="5 12 12 5 19 12"></polyline>
              </svg>
            </button>
            
            <!-- Popup Modal -->
            <div class="popup-overlay">
              <div class="popup-content">
                <button class="popup-close">×</button>
                <h2 class="popup-title">Event Title</h2>
                <p class="popup-date">Date: Loading...</p>
                <div class="popup-description">Loading event details...</div>
                <button class="popup-button">Register</button>
              </div>
            </div>
            
            <!-- External Libraries -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
            
            <script>
              document.addEventListener('DOMContentLoaded', function() {
  // Initialize Particles.js
  particlesJS('particles-js', {
    "particles": {
      "number": {
        "value": 80,
        "density": {
          "enable": true,
          "value_area": 800
        }
      },
      "color": {
        "value": "#00b4db"
      },
      "shape": {
        "type": "circle",
        "stroke": {
          "width": 0,
          "color": "#000000"
        },
        "polygon": {
          "nb_sides": 5
        }
      },
      "opacity": {
        "value": 0.2,
        "random": true,
        "anim": {
          "enable": true,
          "speed": 1,
          "opacity_min": 0.1,
          "sync": false
        }
      },
      "size": {
        "value": 3,
        "random": true,
        "anim": {
          "enable": true,
          "speed": 2,
          "size_min": 0.3,
          "sync": false
        }
      },
      "line_linked": {
        "enable": true,
        "distance": 150,
        "color": "#00b4db",
        "opacity": 0.2,
        "width": 1
      },
      "move": {
        "enable": true,
        "speed": 1,
        "direction": "none",
        "random": true,
        "straight": false,
        "out_mode": "out",
        "bounce": false,
        "attract": {
          "enable": false,
          "rotateX": 600,
          "rotateY": 1200
        }
      }
    },
    "interactivity": {
      "detect_on": "canvas",
      "events": {
        "onhover": {
          "enable": true,
          "mode": "grab"
        },
        "onclick": {
          "enable": true,
          "mode": "push"
        },
        "resize": true
      },
      "modes": {
        "grab": {
          "distance": 140,
          "line_linked": {
            "opacity": 0.5
          }
        },
        "bubble": {
          "distance": 400,
          "size": 40,
          "duration": 2,
          "opacity": 8,
          "speed": 3
        },
        "repulse": {
          "distance": 200,
          "duration": 0.4
        },
        "push": {
          "particles_nb": 4
        },
        "remove": {
          "particles_nb": 2
        }
      }
    },
    "retina_detect": true
  });
  
  // Event Data
  const eventData = {
    "Annual Tech Summit 2025": {
      title: "Annual Tech Summit 2025",
      date: "June 15, 2025",
      description: "Join industry leaders and tech enthusiasts for our Annual Tech Summit focused on innovation and digital transformation. The event features keynote speakers, panel discussions, networking opportunities, and hands-on workshops with the latest technologies.",
      type: "Fest"
    },
    "AI Workshop Series": {
      title: "AI Workshop Series",
      date: "July 8, 2025",
      description: "A comprehensive workshop series covering machine learning fundamentals, neural networks, natural language processing, and practical AI implementation. Perfect for beginners and intermediate developers looking to enhance their AI skills.",
      type: "Workshop"
    },
    "Project Showcase": {
      title: "Project Showcase",
      date: "May 28, 2025",
      description: "A platform for students to demonstrate their innovative projects and prototypes. The showcase includes live demonstrations, Q&A sessions with creators, and feedback from industry professionals.",
      type: "Projects"
    },
    "Tech Journal Vol.2": {
      title: "Tech Journal Vol.2",
      date: "August 15, 2025",
      description: "Call for papers for our second volume of the Tech Journal. We're looking for research papers, case studies, and technical articles on emerging technologies, software development, and digital innovation.",
      type: "Publication"
    },
    "Web Dev Bootcamp": {
      title: "Web Dev Bootcamp",
      date: "July 22, 2025",
      description: "An intensive bootcamp focusing on modern frontend technologies including React, Vue, and advanced CSS. Participants will build real-world projects with guidance from professional web developers.",
      type: "Workshop"
    },
    "GameDev Conference": {
      title: "GameDev Conference",
      date: "September 5, 2025",
      description: "Explore the future of interactive entertainment with industry experts. Topics include game engine advancements, AI in gaming, virtual reality innovations, and indie game development strategies.",
      type: "Fest"
    },
    "Hackathon 2025": {
      title: "Hackathon 2025",
      date: "October 12, 2025",
      description: "A 48-hour coding challenge where teams compete to build innovative solutions to real-world problems. Prizes for the most creative, practical, and technically impressive projects.",
      type: "Projects"
    },
    "UX/UI Workshop": {
      title: "UX/UI Workshop",
      date: "November 3, 2025",
      description: "Learn how to create effective design systems for digital products. The workshop covers design principles, user research methodologies, prototyping techniques, and design-to-development handoff.",
      type: "Workshop"
    },
    "Research Symposium": {
      title: "Research Symposium",
      date: "December 15, 2025",
      description: "A platform for researchers to present their findings and innovations. The symposium features presentations across various tech domains, poster sessions, and collaborative discussions.",
      type: "Publication"
    },
    "Startup Pitch Day": {
      title: "Startup Pitch Day",
      date: "July 16, 2025",
      description: "An opportunity for tech startups to present their business ideas to potential investors, mentors, and partners. Includes pitch coaching, feedback sessions, and networking opportunities.",
      type: "Projects"
    },
    "Digital Marketing Summit": {
      title: "Digital Marketing Summit",
      date: "August 25, 2025",
      description: "Discover cutting-edge digital marketing strategies for 2026 and beyond. Topics include AI-driven marketing, social media trends, content strategy, SEO developments, and analytics.",
      type: "Fest"
    },
    "TechFest 2025: Future of Innovation": {
      title: "TechFest 2025: Future of Innovation",
      date: "May 22-24, 2025",
      description: "The most anticipated tech event of the year, bringing together industry leaders, innovators, and tech enthusiasts for three days of presentations, workshops, and networking. Explore cutting-edge technologies across AI, blockchain, IoT, robotics, and more while connecting with potential collaborators and employers.",
      type: "Fest"
    },
    "Tech Journal: Special Edition Launch": {
      title: "Tech Journal: Special Edition Launch",
      date: "June 5, 2025",
      description: "Join us for the virtual launch of our special edition publication focused on digital transformation and artificial intelligence. The event features expert panels, research presentations, and exclusive insights from contributing authors and industry experts on the latest developments in AI and digital transformation strategies.",
      type: "Publication"
    }
  };
  
  // Element References
  const searchInput = document.getElementById('searchInput');
  const filterButtons = document.querySelectorAll('.sort-btn');
  const filterToggle = document.querySelector('.filter-toggle');
  const sortingOptions = document.querySelector('.sorting-options');
  const eventCards = document.querySelectorAll('.event-card, .standalone-event');
  const popupOverlay = document.querySelector('.popup-overlay');
  const popupTitle = document.querySelector('.popup-title');
  const popupDate = document.querySelector('.popup-date');
  const popupDescription = document.querySelector('.popup-description');
  const popupClose = document.querySelector('.popup-close');
  const backToTop = document.querySelector('.back-to-top');
  const readMoreButtons = document.querySelectorAll('.read-more');
  const eventDescriptions = document.querySelectorAll('.standalone-description');
  const noResults = document.querySelector('.no-results');
  
  // Initialize GSAP animations
  gsap.registerPlugin(ScrollTrigger);
  
  gsap.from(".standalone-event", {
    y: 30,
    opacity: 0,
    duration: 0.8,
    stagger: 0.2,
    ease: "power2.out",
    scrollTrigger: {
      trigger: ".standalone-event",
      start: "top bottom-=100",
      toggleActions: "play none none none"
    }
  });
  
  gsap.from(".event-card", {
    scale: 0.9,
    opacity: 0,
    duration: 0.5,
    stagger: 0.1,
    ease: "back.out(1.7)",
    scrollTrigger: {
      trigger: ".events-container",
      start: "top bottom-=50",
      toggleActions: "play none none none"
    }
  });
  
  // Filter functionality
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons
      filterButtons.forEach(btn => btn.classList.remove('active'));
      
      // Add active class to clicked button
      button.classList.add('active');
      
      const filterValue = button.getAttribute('data-filter');
      
      // Filter the events
      eventCards.forEach(card => {
        if (filterValue === 'All' || card.getAttribute('data-type') === filterValue) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
      
      checkNoResults();
      
      // Close mobile filter menu if open
      if (window.innerWidth < 768) {
        sortingOptions.classList.remove('open');
      }
    });
  });
  
  // Mobile filter toggle
  filterToggle.addEventListener('click', () => {
    sortingOptions.classList.toggle('open');
  });
  
  // Search functionality
  searchInput.addEventListener('input', () => {
    const searchTerm = searchInput.value.toLowerCase();
    
    eventCards.forEach(card => {
      const title = card.querySelector('.event-title, .standalone-title').textContent.toLowerCase();
      const subtitle = card.querySelector('.event-subtitle, .standalone-subtitle').textContent.toLowerCase();
      
      if (title.includes(searchTerm) || subtitle.includes(searchTerm)) {
        card.style.display = 'flex';
      } else {
        card.style.display = 'none';
      }
    });
    
    checkNoResults();
  });
  
  // Check if no results are shown
  function checkNoResults() {
    let visibleCount = 0;
    eventCards.forEach(card => {
      if (card.style.display !== 'none') {
        visibleCount++;
      }
    });
    
    if (visibleCount === 0) {
      noResults.style.display = 'block';
    } else {
      noResults.style.display = 'none';
    }
  }
  
  // Event details popup - Fix: combine both event button handlers
  const eventButtons = document.querySelectorAll('[data-event]');
  
  eventButtons.forEach(button => {
    button.addEventListener('click', () => {
      const eventName = button.getAttribute('data-event');
      const event = eventData[eventName];
      
      if (event) {
        popupTitle.textContent = event.title;
        popupDate.textContent = `Date: ${event.date}`;
        popupDescription.textContent = event.description;
        popupOverlay.classList.add('active');
        
        // Prevent body scrolling when popup is open
        document.body.style.overflow = 'hidden';
      }
    });
  });
  
  // Close popup
  popupClose.addEventListener('click', () => {
    popupOverlay.classList.remove('active');
    
    // Re-enable body scrolling
    document.body.style.overflow = 'auto';
  });
  
  // Close popup when clicking on overlay
  popupOverlay.addEventListener('click', (e) => {
    if (e.target === popupOverlay) {
      popupOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }
  });
  
  // Close popup on ESC key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && popupOverlay.classList.contains('active')) {
      popupOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }
  });
  
  // Back to top button functionality
  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
      backToTop.classList.add('visible');
    } else {
      backToTop.classList.remove('visible');
    }
  });
  
  backToTop.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });
  
  // Read more toggle functionality
  readMoreButtons.forEach((button, index) => {
    button.addEventListener('click', () => {
      const description = eventDescriptions[index];
      
      if (description.classList.contains('expanded')) {
        description.classList.remove('expanded');
        button.textContent = 'Read more';
        
        // Scroll back to top of the event card
        const eventCard = button.closest('.standalone-event');
        eventCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
      } else {
        description.classList.add('expanded');
        button.textContent = 'Read less';
      }
    });
  });
  
  // Handle popup register button - Fix: handle this in one place
  const popupButton = document.querySelector('.popup-button');
  if (popupButton) {
    popupButton.addEventListener('click', () => {
      const eventTitle = popupTitle.textContent;
      
      // For demonstration, just show an alert when register is clicked
      alert(`Thank you for registering for ${eventTitle}! Details will be sent to your email.`);
      
      // Close the popup
      popupOverlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });
  }
  
  // Add responsive handling for window resize
  window.addEventListener('resize', () => {
    if (window.innerWidth >= 768 && sortingOptions.classList.contains('open')) {
      sortingOptions.classList.remove('open');
    }
    
    // Update viewport height variable for mobile
    handleViewportChange();
  });
  
  // Add touch events for mobile interactions
  let touchStartX = 0;
  let touchEndX = 0;
  
  document.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
  }, false);
  
  document.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  }, false);
  
  function handleSwipe() {
    const swipeThreshold = 100;
    
    // Left swipe (open filters on mobile)
    if (touchEndX < touchStartX - swipeThreshold && window.innerWidth < 768) {
      sortingOptions.classList.add('open');
    }
    
    // Right swipe (close filters on mobile)
    if (touchEndX > touchStartX + swipeThreshold && window.innerWidth < 768) {
      sortingOptions.classList.remove('open');
    }
  }
  
  // Add lazy loading for event card images
  const eventImages = document.querySelectorAll('.standalone-image');
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };
  
  const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        img.classList.remove('skeleton');
        observer.unobserve(img);
      }
    });
  }, observerOptions);
  
  eventImages.forEach(image => {
    imageObserver.observe(image);
  });
  
  // Add animation when events come into view
  const animateCards = document.querySelectorAll('.event-card');
  const cardObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // Add a slight delay based on card index for a cascade effect
        const delay = Array.from(animateCards).indexOf(entry.target) * 50;
        setTimeout(() => {
          entry.target.classList.add('animate');
        }, delay);
        observer.unobserve(entry.target);
      }
    });
  }, {
    threshold: 0.2
  });
  
  animateCards.forEach(card => {
    cardObserver.observe(card);
  });
  
  // Function to check and handle viewport height changes (for mobile browsers)
  function handleViewportChange() {
    const vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  }
  
  // Set the initial value
  handleViewportChange();
  
  // Reset on orientation change
  window.addEventListener('orientationchange', handleViewportChange);
  
  // Add scroll-triggered animations using GSAP - Fix: avoid duplicate animations
  function initScrollAnimations() {
    // Animate the section header
    gsap.from(".section-header", {
      y: -30,
      opacity: 0,
      duration: 0.8,
      scrollTrigger: {
        trigger: ".section-header",
        start: "top bottom-=50",
        toggleActions: "play none none none"
      }
    });
    
    // Enhanced animations for featured events
    gsap.from(".featured", {
      scale: 0.9,
      y: 20,
      opacity: 0,
      duration: 0.8,
      ease: "elastic.out(1, 0.8)",
      scrollTrigger: {
        trigger: ".featured",
        start: "top bottom-=80",
        toggleActions: "play none none none"
      }
    });
  }
  
  // Initialize scroll animations
  initScrollAnimations();
  
  // Handle dark mode preference
  const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
  const changeColorScheme = () => {
    if (prefersDarkScheme.matches) {
      document.body.classList.add('dark-mode');
      // Update particles color for dark mode
      if (window.pJSDom && window.pJSDom[0]) {
        window.pJSDom[0].pJS.particles.color.value = "#00b4db";
        window.pJSDom[0].pJS.particles.line_linked.color = "#00b4db";
        window.pJSDom[0].pJS.fn.particlesRefresh();
      }
    } else {
      document.body.classList.remove('dark-mode');
      // Update particles color for light mode
      if (window.pJSDom && window.pJSDom[0]) {
        window.pJSDom[0].pJS.particles.color.value = "#00b4db";
        window.pJSDom[0].pJS.particles.line_linked.color = "#00b4db";
        window.pJSDom[0].pJS.fn.particlesRefresh();
      }
    }
  };
  
  // Initial check and listener for changes in color scheme preference
  changeColorScheme();
  prefersDarkScheme.addEventListener('change', changeColorScheme);
  
  // Add subtle hover effects using GSAP
  document.querySelectorAll('.event-button, .standalone-button').forEach(button => {
    button.addEventListener('mouseenter', () => {
      gsap.to(button, {
        scale: 1.05,
        duration: 0.2,
        ease: "power1.out"
      });
    });
    
    button.addEventListener('mouseleave', () => {
      gsap.to(button, {
        scale: 1,
        duration: 0.2,
        ease: "power1.in"
      });
    });
  });
  
  // Make sure the page is ready before ending initialization
  if (document.readyState === 'complete') {
    console.log('Events page fully initialized');
    
    // Remove loading state from any elements
    document.querySelectorAll('.skeleton').forEach(el => {
      setTimeout(() => {
        el.classList.remove('skeleton');
      }, 300);
    });
  } else {
    document.addEventListener('readystatechange', (event) => {
      if (document.readyState === 'complete') {
        console.log('Events page fully initialized');
        
        // Remove loading state from any elements
        document.querySelectorAll('.skeleton').forEach(el => {
          setTimeout(() => {
            el.classList.remove('skeleton');
          }, 300);
        });
      }
    });
  }
});
                </script>
            </body>
            </html>
        </div>
        </div>
    </div>